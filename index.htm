<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Metal Tracker Pro — Dev</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
:root{
 --bg:#07121a; --card:#0b1b26; --muted:#9fb3c8;
 --accent:#ffd166; --accent2:#7ee7c7; --glass:rgba(255,255,255,0.03);
 --danger:#ff6b6b; --success:#2ecc71;
 --mono:ui-monospace,Menlo,monospace;
}
*{box-sizing:border-box}
body{margin:0;font-family:Inter,system-ui;background:linear-gradient(180deg,#041018,#071827);color:#e6f7ff;padding:22px}
.wrap{max-width:1100px;margin:auto}
.header{display:flex;justify-content:space-between;margin-bottom:18px}
.btn{background:var(--glass);border:1px solid rgba(255,255,255,0.05);color:inherit;padding:8px 10px;border-radius:8px;cursor:pointer}
.btn.primary{background:linear-gradient(90deg,var(--accent),#ff9f1c);color:#041018;border:none;font-weight:700}
.card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:12px;padding:16px;border:1px solid rgba(255,255,255,0.03)}
.grid{display:grid;grid-template-columns:1fr 380px;gap:18px}
@media(max-width:980px){.grid{grid-template-columns:1fr}}
.select,input{background:transparent;border:1px solid rgba(255,255,255,0.05);padding:8px;border-radius:8px;color:inherit}
.rates{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.rate-item{background:rgba(255,255,255,0.02);padding:12px;border-radius:8px;border:1px solid rgba(255,255,255,0.02)}
.rate-item h3{margin:0;font-size:13px}
.rate-item p{margin:6px 0 0;font-weight:700;color:var(--accent2);font-family:var(--mono)}
.json{background:#02121a;border-radius:8px;padding:12px;color:#bfeef0;font-family:var(--mono);font-size:12px;max-height:360px;overflow:auto}
.terminal{background:#000a0f;border-radius:8px;padding:12px;color:#7ee7c7;font-family:var(--mono);font-size:12px;max-height:160px;overflow:auto}
.pill{background:var(--glass);padding:6px 10px;border-radius:999px;font-size:12px}
.meta{color:var(--muted);font-size:13px}
</style>
</head>

<body>
<div class="wrap">

<div class="header">
 <strong>Metal Tracker Pro — Dev</strong>
 <div>
  <span id="status" class="pill">BOOT</span>
  <button id="sync" class="btn primary">Refresh</button>
 </div>
</div>

<div class="card" style="margin-bottom:16px">
 <select id="unit" class="select">
  <option value="g">Gram</option>
  <option value="kg">KG</option>
  <option value="oz">Ounce</option>
  <option value="tola">Tola</option>
 </select>
 <input id="qty" type="number" value="1" step="0.01" style="width:100px"/>
 <span class="meta">Total (Gold example):</span>
 <b id="calc">—</b>
</div>

<div class="grid">
 <div class="card">
  <div id="rates" class="rates"></div>
  <div class="terminal" id="log"></div>
 </div>
 <div class="card">
  <div class="json" id="json"></div>
 </div>
</div>

</div>

<script>
const OZ=31.1034768,KG=1000,TOLA=11.6638;
const PURITIES={"24K":1,"22K":22/24,"21K":21/24,"18K":18/24,"14K":14/24,"10K":10/24};

const el={
 status:document.getElementById('status'),
 sync:document.getElementById('sync'),
 unit:document.getElementById('unit'),
 qty:document.getElementById('qty'),
 calc:document.getElementById('calc'),
 rates:document.getElementById('rates'),
 log:document.getElementById('log'),
 json:document.getElementById('json')
};

// Commonly recycled metals with mock per-oz price
const METALS={
 "Gold":5100,
 "Silver":82,
 "Aluminum":2,
 "Copper":4,
 "Brass":3.5,
 "Bronze":3.5,
 "Lead":1.5,
 "Zinc":2,
 "Tin":3,
 "Nickel":6,
 "Titanium":8,
 "Tungsten":25,
 "Cobalt":15,
 "Molybdenum":12,
 "Magnesium":4,
 "Platinum":1200,
 "Palladium":1800,
 "Rhodium":15000
};

const fmt=v=>Number(v).toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2});

function unitVal(price,u){
 return u==="g"?price/OZ:u==="kg"?price/OZ*KG:u==="tola"?price/OZ*TOLA:price;
}

function logLine(s){
 el.log.textContent=new Date().toLocaleTimeString()+" › "+s+"\n"+el.log.textContent;
}

function render(){
 el.rates.innerHTML="";
 const u=el.unit.value;
 for(const [metal,price] of Object.entries(METALS)){
  const val=unitVal(price,u);
  const node=document.createElement("div");
  node.className="rate-item";
  node.innerHTML=`<h3>${metal}</h3><p>${fmt(val)}</p>`;
  el.rates.appendChild(node);
 }
 // total for example Gold
 el.calc.textContent="USD "+fmt((+el.qty.value||0)*unitVal(METALS["Gold"],u));
 el.json.textContent=JSON.stringify(METALS,null,2);
 logLine("Rendered metal rates.");
}

el.sync.onclick=render;
[el.unit,el.qty].forEach(x=>x.oninput=render);

el.status.textContent="LIVE";
el.status.style.background="#2ecc71";

render();
</script>
</body>
</html>